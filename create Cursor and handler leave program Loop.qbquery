DELIMITER$
DROP PROCEDURE IF EXISTS CURSOR_STATEMENT1$
CREATE PROCEDURE CURSOR_STATEMENT1()
BEGIN
  DECLARE CATEGORY_ID INTEGER;
  DECLARE CATEGORY_NAME VARCHAR(15);
  DECLARE DESCRIPTION LONGTEXT;
  DECLARE EOF INT DEFAULT 0; /* STATEMENT ADDED */
  DECLARE C_TBL_CATEGORIES CURSOR FOR SELECT * FROM TBL_CATEGORIES;
DECLARE CONTINUE HANDLER FOR NOT FOUND SET EOF = 1; /* STATEMENT ADDED */
  OPEN C_TBL_CATEGORIES;
  CURSOR_FOR_TBL_CATEGORIES: LOOP
  FETCH C_TBL_CATEGORIES INTO CATEGORY_ID,CATEGORY_NAME,DESCRIPTION;/* STATEMENT ADDED */
  IF (EOF = 1) THEN
LEAVE CURSOR_FOR_TBL_CATEGORIES;
END IF;
/* STATEMENT ADDED */
END LOOP CURSOR_FOR_TBL_CATEGORIES;
CLOSE C_TBL_CATEGORIES;
SET EOF = 0; /* STATEMENT ADDED */
SELECT 'END PROGRAM' AS 'MESSAGE';
END$
